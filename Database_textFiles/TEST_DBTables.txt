Create Database javatest;
use javatest;

create table undergraduate(
tgno varchar(6),
ugfname varchar(20),
uglname varchar(20),
ugaddress varchar(100),
ugemail varchar(50),
ugphno int(10),
ugpassword varchar(50),
ugProfImg varchar(200),
study_year int(1),
study_semester int(1)
);

create table admin(
adno varchar(6),
adfname varchar(20),
adlname varchar(20),
adaddress varchar(100),
ademail varchar(50),
adphno int(10),
adpassword varchar(50),
adProfImg varchar(200)
);

create table lecturer(
lecno varchar(7),
lecfname varchar(20),
leclname varchar(20),
lecaddress varchar(100),
lecemail varchar(50),
lecphno int(10),
lecpassword varchar(50),
lecProfImg varchar(200),
PRIMARY KEY (lecno)
);

create table technical_officer(
tono varchar(6),
tofname varchar(20),
tolname varchar(20),
toaddress varchar(100),
toemail varchar(50),
tophno int(10),
topassword varchar(50),
toProfImg varchar(200)
);

<<<<<<< HEAD

create table courses(
course_id varchar(7),
course_name varchar(50),
level_no int(1),
semester_no int(1),
status enum('theory','practical','theory/practical') default 'theory',
final_theory_perc int(3) default 0,
final_practical_perc int(3) default 0,
PRIMARY KEY (course_id));

create table lecture_course(
lecno varchar(7),
course_id varchar(7),
PRIMARY KEY (lecno,course_id),
FOREIGN KEY (lecno) REFERENCES lecturer(lecno),
FOREIGN KEY (course_id) REFERENCES courses(course_id)
);

<<<<<<< Updated upstream
INSERT INTO notice (noticeTitle, noticeFilePath) VALUES
("Semester Timetable", "Resources/Notices/1.txt"),
("Holiday Announcement", "Resources/Notices/2.txt"),
("Workshop on AI", "Resources/Notices/3.txt"),
("Library Renovation Notice", "Resources/Notices/4.txt"),
("Internship Opportunities", "Resources/Notices/5.txt");


=======
=======
create table lecture_course(
lecno varchar(7),
course_id varchar(7));

create view users as 
SELECT adno AS id, adpassword as password FROM admin
UNION
SELECT tgno AS id, ugpassword as password FROM undergraduate
UNION
SELECT lecno AS id, lecpassword as password FROM lecturer
UNION
SELECT tono AS id, topassword as password FROM technical_officer;

>>>>>>> origin/Lalithya
create table notice(
notice_no INT primary key auto_increment,
noticeTitle varchar(75),
noticeFilePath varchar(100)
);

create table timeTable(
time_table_id INT primary key auto_increment,
course_id varchar(7), 
module_day varchar(20),
time varchar(20)
);

<<<<<<< HEAD
=======
create table undergraduate(
tgno varchar(6),
ugfname varchar(20),
uglname varchar(20),
ugaddress varchar(100),
ugemail varchar(50),
ugphno int(10),
ugpassword varchar(50),
ugProfImg varchar(200),
study_year int(1),
study_semester int(1)
);

create table courses(
course_id varchar(7),
course_name varchar(50),
level_no int(1),
semester_no int(1),
status enum('theory','practical','theory/practical') default 'theory',
quizzes_perc int(3) default 0,
assessment_perc int(3) default 0,
mid_term_perc int(3) default 0,
final_theory_perc int(3) default 0,
final_practical_perc int(3) default 0
);

INSERT INTO courses VALUES
("ICT2113","Data Structures and Algorithms",2,1,'theory/practical',10,0,20,40,30),
("ICT2122","Object Oriented Programming",2,1,'theory',10,10,20,60,0),
("ICT2133","Object Oriented Programming Practicum III",2,1,'theory/practical',10,20,0,40,30),
("ICT2142","Object Oriented Analysis and Design",2,1,'practical',0,20,20,0,60),
("ICT2152","E-Commerce Implementation Management and Security",2,1,'theory',10,20,0,70,0);

>>>>>>> origin/Lalithya
create table marks(
mark_id INT primary key auto_increment,
tgno varchar(6),
course_id varchar(7),
quiz_one int(3) default 0,
quiz_second int(3) default 0,
quiz_third int(3) default 0,
quiz_fourth int(3) default 0,
<<<<<<< HEAD
assessment int(3) default 0,
=======
assessment_one int(3) default 0,
assessment_second int(3) default 0,
>>>>>>> origin/Lalithya
mid_term int(3) default 0,
final_theory int(3) default 0,
final_practical int(3) default 0
);
<<<<<<< HEAD
>>>>>>> Stashed changes

create view users as 
SELECT adno AS id, adpassword as password FROM admin
UNION
SELECT tgno AS id, ugpassword as password FROM undergraduate
UNION
SELECT lecno AS id, lecpassword as password FROM lecturer
UNION
SELECT tono AS id, topassword as password FROM technical_officer;

insert into notice (noticeTitle,noticeFilePath) values
("End Exam Marks","Resources/Notices/1.txt");
=======

insert into marks(tgno,course_id,quiz_one,quiz_second,quiz_third,quiz_fourth,assessment_one,assessment_second,mid_term,final_theory,final_practical) values
("tg5678","ICT2113",100,100,100,0,0,0,100,100,100),
("tg5432","ICT2122",100,100,100,100,0,100,100,100,0),
("tg1234","ICT2133",100,100,100,0,0,100,0,100,100),
("tg9101","ICT2142",0,0,0,0,0,100,100,0,100),
("tg1121","ICT2152",100,100,100,0,100,100,0,100,0);

create table stu_marks(
mark_id INT primary key auto_increment,
tgno varchar(6),
course_id varchar(7),
ca_marks_perc decimal(3,2) default 0,
final_marks_perc decimal(3,2) default 0
);

insert into stu_marks(tgno,course_id,ca_marks_perc,final_marks_perc) values
("tg5678","ICT2113",0,0),
("tg5432","ICT2122",0,0),
("tg1234","ICT2133",0,0),
("tg9101","ICT2142",0,0),
("tg1121","ICT2152",0,0);

create table attendance(
atten_id INT primary key auto_increment,
tono varchar(6),
tgno varchar(6),
course_id varchar(7),         
week_no int(2),
atten_status varchar(20),
med_id char(6)
);

INSERT INTO attendance(tono,tgno,course_id,week_no,course_status,atten_status,med_id) VALUES
("to2222", "tg1234", "ICT2113", 1, "theory", "present", ""),
("to2222", "tg1345", "ICT2113", 1, "theory", "absent", ""),
("to2222", "tg1346", "ICT2113", 1, "practical", "present", ""),
("to2222", "tg1347", "ICT2113", 1, "practical", "present", ""),
("to2222", "tg1354", "ICT2113", 1, "theory", "present", "");

create table medical(
medical_no int primary key auto_increment,
tono varchar(6),
tgno varchar(6),
level_no int(1),
semester_no int(1),
course_id varchar(7), 
week_no int(2),
course_name varchar(50),
course_status enum('theory','practical') default 'theory',
med_reason varchar(100)
);

insert into medical(tono,tgno,level_no,semester_no,course_id,week_no,course_name,course_status,med_reason) values
("to2222","tg1344","ICT1222", 2, 1, 2, "Data Structures and Algorithms", "theory", "Influenza"),
("to2222","tg1344","ICT1222", 2, 1, 3, "Data Structures and Algorithms", "practical", "Influenza"),
("to2222","tg1344","ICT1222", 2, 1, 4, "Data Structures and Algorithms", "theory", "Influenza"),
("to2222","tg1344","ICT1222", 2, 1, 5, "Data Structures and Algorithms", "practical", "Influenza"),
("to2222","tg1344","ICT1222", 2, 1, 6, "Data Structures and Algorithms", "theory", "Influenza");

>>>>>>> origin/Lalithya

INSERT INTO undergraduate VALUES
("tg5432", "Athula", "Nihan", "Matara", "athula@gmail.com", 987004321, "123","Resources/Images/5432.jpg",2,1),
("tg1234", "Kavindu", "Perera", "Colombo", "kavindu@gmail.com", 987654321, "123","Resources/Images/1234.jpg",2,1),
("tg5678", "Sahan", "Fernando", "Kandy", "sahan@gmail.com", 876543219, "123","Resources/Images/5678.jpg",2,1),
("tg9101", "Nethmi", "Silva", "Galle", "nethmi@gmail.com", 765432198, "123","Resources/Images/9101.jpg",2,1),
("tg1121", "Ravindu", "Bandara", "Kurunegala", "ravindu@gmail.com", 654321987, "123","Resources/Images/1121.jpg",2,1),
("tg3141", "Dilini", "Weerasinghe", "Matara", "dilini@gmail.com", 543219876, "123","Resources/Images/3141.jpg",2,1);

<<<<<<< HEAD
=======

>>>>>>> origin/Lalithya
INSERT INTO lecturer VALUES
("lec1234", "Nuwan", "Laksiri", "Colombo", "nuwan@gmail.com", 0713828492, "pass123", "./Resources/Images/1234.jpg"),
("lec5678", "Shashitha", "Lakal", "Kandy", "lakal@gmail.com", 0773589263, "secure456", "./Resources/Images/5678.jpg"),
("lec9101", "Chanduni", "Gamage", "Galle", "chanduni@gmail.com", 0765432198, "mypassword", "./Resources/Images/9101.jpg"),
("lec1121", "Akila", "Brahmana", "Kurunegala", "akila@gmail.com", 0742890716, "strong789", "./Resources/Images/1121.jpg"),
("lec3141", "Novoda", "Weerasinghe", "Matara", "navoda@gmail.com", 0725893023, "randomPwd", "./Resources/Images/3141.jpg"),
("lec5121","Rumeshika","Kumarihami","Bandarawela","rumeshika@gmail.com",0782342145,"word123","./Resources/Images/3142.jpg"),
("lec1357","Chathuranga","Adhikari","Kaluthara","chathuranga@gmail.com",0752929832,"get098","./Resources/Images/3148.jpg");

INSERT INTO technical_officer VALUES
("to2222", "Sunil", "Perera", "Colombo", "sunil@gmail.com", 987654321, "pass123", "./Resources/Images/2222.jpg"),
("to3333", "Kamal", "Fernando", "Kandy", "kamal@gmail.com", 876543219, "secure456", "./Resources/Images/3333.jpg"),
("to4444", "Ranjith", "Silva", "Galle", "ranjith@gmail.com", 765432198, "mypassword", "./Resources/Images/4444.jpg"),
("to5555", "Suresh", "Bandara", "Kurunegala", "suresh@gmail.com", 654321987, "strong789", "./Resources/Images/5555.jpg"),
("to6666", "Pradeep", "Weerasinghe", "Matara", "pradeep@gmail.com", 543219876, "randomPwd", "./Resources/Images/6666.jpg");

INSERT INTO admin VALUES
("admin1", "Subash", "Jayasinghe", "Matara", "subash@gmail.com", 981111321, "123","./Resources/Images/5267.jpg");

<<<<<<< HEAD

<<<<<<< Updated upstream
=======
insert into marks(tgno,course_id,quiz_one,quiz_second,quiz_third,quiz_fourth,assessment,mid_term,final_theory,final_practical) values
("tg5678","ICT2113",75,65,55,55,78,70,80,85),
("tg5432","ICT2122",75,65,55,55,78,70,80,0),
("tg1234","ICT2133",75,65,55,55,78,70,80,85),
("tg9101","ICT2142",75,65,55,55,78,70,0,85),
("tg1121","ICT2152",75,65,55,55,78,70,80,0);


=======
>>>>>>> origin/Lalithya
INSERT INTO notice (noticeTitle, noticeFilePath) VALUES
("Semester Timetable", "Resources/Notices/1.txt"),
("Holiday Announcement", "Resources/Notices/2.txt"),
("Workshop on AI", "Resources/Notices/3.txt"),
("Library Renovation Notice", "Resources/Notices/4.txt"),
("Internship Opportunities", "Resources/Notices/5.txt");

<<<<<<< HEAD

=======
>>>>>>> origin/Lalithya
insert into timeTable(course_id,module_day,time) values
("ICT2113","Thursday","8.00 - 12.00"),
("ICT2122","Thursday","1.00 - 3.00"),
("ICT2133","Tuesday","8.00 - 10.00"),
("ICT2142","Monday","8.00 - 12.00"),
("ICT2152","Wednesday","10.00 - 12.00");

<<<<<<< HEAD
>>>>>>> Stashed changes
INSERT INTO courses VALUES
("ICT2132","Object Oriented Programming Practicum",2,1,"theory/practical",40,30),
("ICT2122","Object Oriented Programming",2,1,"theory",60,0),
("ENG2122","English III",2,1,"theory",70,0),
("ICT2113","Data Structures and Algorithms",2,1,"theory/practical",40,30),
("ICT2142","Object Oriented Analysis and Design",2,1,"practical",0,60),
("ICT2152","E-Commerce Implementation Management and Security",2,1,"theory",70,0),
("TCS2112","Business Economics",2,1,"theory",70,0),
("TCS2122","Soft Skills",2,1,"theory/practical",60,40);


INSERT INTO lecture_course(lecno,course_id)
VALUES
("lec1234","ICT2132"),
("lec1234","ICT2122"),
("lec5678","ICT2113"),
("lec9101","ICT2142"),
("lec1121","ICT2152"),
("lec3141","ENG2122"),
("lec5121","TCS2122"),
("lec1357","TCS2112"); --edit
=======
INSERT INTO lecture_course(lecno,course_id) VALUES
("lec5678","ICT2113"),
("lec1234","ICT2122"),
("lec3141","ICT2133"),
("lec9101","ICT2142"),
("lec1121","ICT2152"),
("lec5121","TSC2122");




SELECT * FROM timetable

ORDER BY CASE module_day WHEN 'Monday' THEN 1 WHEN 'Tuesday' THEN 2 WHEN 'Wednesday' THEN 3 WHEN 'Thursday' THEN 4 WHEN 'Friday' THEN 5 WHEN 'Saturday' THEN 6 WHEN 'Sunday' THEN 7 END;

select tgno, courses.course_id,quiz_one,quiz_second,quiz_third,assessment, mid_term, final_theory, final_practical, status, final_theory_perc, final_practical_perc from marks join courses where marks.course_id = courses.course_id;

select tgno,courses.course_id,quiz_one,quiz_second,quiz_third,quiz_fourth,assessment_one,assessment_second,mid_term,final_theory,final_practical,quizzes_perc,assessment_perc,mid_term_perc,final_theory_perc,final_practical_perc from marks join courses where marks.course_id = courses.course_id;

for attendance table ->
select courses.course_id,course_name,course_status,week_no,atten_status,med_id from attendance join courses where attendance.course_id = courses.course_id and tgno ="tg1234" and level_no = 2 and semester_no = 1;

>>>>>>> origin/Lalithya



