private static Object[] UGUploadToPreviewProfileImage(String tgno){
        try{
            JFileChooser UGFileChooser = new JFileChooser();
            UGFileChooser.addChoosableFileFilter(new FileNameExtensionFilter("Images","jpg","png","jpeg","gif"));

            if(UGFileChooser.showOpenDialog(null) == JFileChooser.APPROVE_OPTION){

                ImageIcon icon = new ImageIcon(UGFileChooser.getSelectedFile().getPath());
                Image scaled = icon.getImage().getScaledInstance(
                        UGProfImgPanel.getWidth() - 50,
                        UGProfImgPanel.getHeight() - 50,
                        Image.SCALE_SMOOTH
                );
                UGProfileImage.setIcon(new ImageIcon(scaled));
                UGProfileImage.setText("");

                String filename = UGFileChooser.getSelectedFile().getAbsolutePath();
                
                String UGSaveImagePath = "Resources/ProfileImages/";
                File UGSaveImageDirectory = new File(UGSaveImagePath);
                if (!UGSaveImageDirectory.exists()){
                    UGSaveImageDirectory.mkdirs();
                }

                File UGSourceFile = null;

                String extension = filename.substring(filename.lastIndexOf('.') + 1 );
                UGSourceFile = new File(tgno +"."+ extension);

                File UGDestinationFile = new File(UGSaveImagePath + UGSourceFile);

                System.out.println(UGDestinationFile);

                Path fromFile = UGFileChooser.getSelectedFile().toPath();
                Path toFile = UGDestinationFile.toPath();

		return new Object[]{fromFile,toFile,UGDestinationFile};
            }

        }catch (Exception ex){
            ex.printStackTrace();
        }
    }
	
private void UGSaveProfileImage(String tgno){

try{
	Object[] filePathValues = UGUploadToPreviewProfileImage(tgno);

	Path fromFile = filePathValues[0];
	Path toFile = filePathValues[1];
	File UGDestinationFile = filePathValues[2];

 	if (UGDestinationFile.exists()){
              UGDestinationFile.delete();
              Files.copy(fromFile,toFile);
        }else{
              Files.copy(fromFile,toFile);
        }

}catch(Exception exc)
	exc.printStackTrace();
}

}
